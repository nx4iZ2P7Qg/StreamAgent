type Request {
	Name string `path:"name,options=you|me"`
}

type Response {
	Message string `json:"message"`
}

type RoleInfo {
	RoleName string `json:"roleName"`
	Value    string `json:"value"`
}

type LoginRequest {
	Username string `json:"username"`
	Password string `json:"password"`
}

type LoginResponse {
	Roles    []RoleInfo `json:"roles"`
	UserId   string     `json:"userId"`
	Username string     `json:"username"`
	Token    string     `json:"token"`
	RealName string     `json:"realName"`
	Desc     string     `json:"desc"`
}

type DvrRequest {
	Action   string `json:"action"`
	ClientId int    `json:"client_id"`
	Ip       string `json:"ip"`
	Vhost    string `json:"vhost"`
	App      string `json:"app"`
	Stream   string `json:"stream"`
	Param    string `json:"param"`
	Cwd      string `json:"cwd"`
	File     string `json:"file"`
}

type Dvr {
	ClientId    int    `json:"client_id"`
	Ip          string `json:"ip"`
	Vhost       string `json:"vhost"`
	App         string `json:"app"`
	Stream      string `json:"stream"`
	Param       string `json:"param"`
	Cwd         string `json:"cwd"`
	File        string `json:"file"`
	Base        string `json:"base"`
	ContentName string `json:"content_name"`
}

type DvrResponse {
	ErrorCode int `json:"error_code"`
}

service streamagent-api {
	@handler DvrHandler
	post /api/v1/srs/dvr (DvrRequest) returns (DvrResponse);
	
	@handler LoginHandler
	post /api/v1/login (LoginRequest) returns (LoginResponse);
}